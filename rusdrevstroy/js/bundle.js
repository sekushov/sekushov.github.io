(()=>{"use strict";const e=document.querySelector(".modal");function t(){e.style.display="flex",document.body.style.overflow="hidden"}function n(){e.style.display="none",document.body.style.overflow=""}function o(){const e=document.querySelector(".promo_price_prev"),t=document.querySelector(".promo_price_new");e.innerHTML=`\n        <div class="promo_price_prev_line"></div>\n        <span>${c().toLocaleString()}</span>\n    `,t.innerHTML=(.9*c()).toLocaleString()+" р."}o();function c(){const e=document.querySelectorAll("[data-stage]"),t=document.querySelectorAll("[data-material]"),n=document.querySelector("[data-input-plot]"),o=document.querySelector("[data-input-house]");let c;if(!n.value||!o.value||n.value<1||o.value<1)return c=0,c;function a(e,t){let n;return e.forEach((e=>{e.classList.contains("calc_item_active")&&(n=e.getAttribute(t))})),n}return c=+a(e,"data-stage")*+a(t,"data-material")*(79e3*+n.value+1e5*+o.value),c=1e3*Math.round(c/1e3),c}document.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.querySelector(".hamburger"),t=document.querySelector("header"),n=document.querySelector(".menu"),o=document.querySelectorAll(".menu_link");function c(){0==window.scrollY&&window.innerWidth>=576?(t.style.cssText="background: none; box-shadow: none",o.forEach((e=>e.style.cssText="color: #fff"))):(t.style.cssText="",o.forEach((e=>e.style.cssText="")))}e.addEventListener("click",(()=>{e.classList.contains("hamburger_active")?(n.style.left="-100%",e.classList.remove("hamburger_active")):(n.style.left="0",e.classList.add("hamburger_active"),o.forEach((t=>{t.addEventListener("click",(()=>{n.style.left="-100%",e.classList.remove("hamburger_active")}))})))})),c(),window.addEventListener("scroll",c)})(),document.querySelectorAll(".modal_trigger").forEach((e=>{e.addEventListener("click",(()=>{t()}))})),e.addEventListener("click",(t=>{(t.target===e||t.target.classList.contains("modal_close"))&&n()})),document.querySelectorAll("form").forEach((e=>{!function(e){function o(e){const o=document.querySelector(".modal_content");o.style.display="none",t();const c=document.createElement("div");c.classList.add("modal_content"),c.innerHTML=`\n                <div class="modal_close">&times;</div>\n                <div class="modal_title">${e}</div>\n            `,document.querySelector(".modal").append(c),setTimeout((()=>{c.remove(),o.style.display="",n()}),3500)}e.addEventListener("submit",(t=>{t.preventDefault();const n=document.createElement("img");n.src="img/spinner.svg",n.style.cssText="display: block; margin: 0 auto",e.append(n);const c=new FormData(e);fetch("server.php",{method:"POST",body:c}).then((e=>e.text())).then((e=>{console.log(e),o("Данные отправились. Ожидайте звонка в ближайшее время"),n.remove()})).catch((()=>{o("Что-то пошло не так"),n.remove()})).finally((()=>{e.reset()}))}))}(e)})),function(){const e=document.querySelectorAll(".tech_content"),t=document.querySelectorAll(".tech_header_item");function n(t){e.forEach((e=>{e.style.display="none"})),e[t].style.display="block"}n(2),t.forEach(((e,o)=>{e.addEventListener("click",(()=>{n(o),t.forEach((e=>{e.classList.remove("tech_header_item_active")})),e.classList.add("tech_header_item_active")}))}))}(),function(){const e=document.querySelectorAll("[data-stage]"),t=document.querySelectorAll("[data-material]"),n=document.querySelector("[data-input-plot]"),a=document.querySelector("[data-input-house]"),r=document.querySelector(".calc_result_value");function l(e,t){e.forEach((n=>{n.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove(t)})),n.classList.add(t),r.textContent=c().toLocaleString(),o()}))}))}function s(e){e.addEventListener("input",(()=>{r.textContent=c().toLocaleString(),o()}))}l(e,"calc_item_active"),l(t,"calc_item_active"),r.textContent=c().toLocaleString(),s(n),s(a)}(),function(e){const t=new Date(e),n=document.querySelector("[data-timerMonth]"),o=document.querySelector("[data-timerDay]"),c=document.querySelector("[data-timerHour]"),a=document.querySelector("[data-timerMinute]"),r=document.querySelector("[data-timerSecond]");function l(){const e=new Date,l=Date.parse(t)-Date.parse(e);l<=0&&(r.textContent=0,n.textContent=0,o.textContent=0,c.textContent=0,a.textContent=0,r.textContent=0,clearInterval(s)),r.textContent=Math.floor(l/1e3),n.textContent=Math.floor(l/1e3/60/60/24/30),o.textContent=Math.floor(l/1e3/60/60/24)%30,c.textContent=Math.floor(l/1e3/60/60)%24,a.textContent=Math.floor(l/1e3/60)%60,r.textContent=Math.floor(l/1e3)%60}l();const s=setInterval(l,1e3)}("2024, 3, 3"),function({image:e,imageActive:t,navLeft:n,navRight:o}){const c=document.querySelectorAll(e),a=document.querySelector(n),r=document.querySelector(o);a.addEventListener("click",(()=>{for(let e=c.length-1;e>=0;e--)if(c[e].classList.contains(t)){if(c[e].classList.remove(t),0==e){c[c.length-1].classList.add(t);break}c[e-1].classList.add(t);break}})),r.addEventListener("click",(()=>{for(let e=0;e<c.length;e++)if(c[e].classList.contains(t)){if(c[e].classList.remove(t),e==c.length-1){c[0].classList.add(t);break}c[e+1].classList.add(t);break}}))}({image:".slider_img",imageActive:"slider_img_active",navLeft:".slider_nav_left",navRight:".slider_nav_right"})}))})();
//# sourceMappingURL=bundle.js.map